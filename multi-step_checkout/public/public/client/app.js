class App extends React.Component {
  constructor(props) {
    super(props);

    this.state = {
      steps: [Checkout, FormOne, FormTwo, FormThree, Purchase],
      currentView: Checkout,
      currentForm: {}
    };
    this.handleSubmit = this.handleSubmit.bind(this);
  }

  handleNext(e) {
    this.setState({
      currentView: this.state.steps[this.state.steps.indexOf(this.state.currentView) + 1 || 0]
    });
    e.preventDefault();
    fetch('/', {
      method: 'POST',
      body: JSON.stringify(this.state.currentForm),
      headers: {
        "Content-type": "application/json"
      }
    }).then(res => res.json()).then(response => console.log('Success:', JSON.stringify(response))).catch(error => console.error('Error:', error));
  }

  handleSubmit(e) {
    e.preventDefault();
    fetch('/', {
      method: 'POST',
      body: JSON.stringify(this.state.currentForm),
      headers: {
        "Content-type": "application/json"
      }
    }).then(res => res.json()).then(response => console.log('Success:', JSON.stringify(response))).catch(error => console.error('Error:', error));
  }

  handleFormChange(e) {
    let value = e.target.value;
    let newForm = this.state.currentForm;
    newForm[e.target.name] = value;
    this.setState({
      currentForm: newForm
    });
  }

  render() {
    return React.createElement('div', { id: 'container' }, React.createElement(this.state.currentView, { onChange: e => this.handleFormChange(e), onClick: e => this.handleNext(e), onclick: e => this.handleSubmit(e) }));
  }
}

const Checkout = props => React.createElement('button', { onClick: props.onClick }, 'Checkout');

const FormOne = props => React.createElement('div', { id: 'formOne', 'class': 'form-style-8' }, React.createElement('h4', null, 'Account Information'), React.createElement('form', null, 'Name:', React.createElement('input', { type: 'text', name: 'name', id: 'name', placeholder: 'enter your name', onChange: props.onChange }), React.createElement('br', null), React.createElement('br', null), 'Email:', React.createElement('input', { type: 'email', name: 'email', id: 'email', placeholder: 'enter your email', onChange: props.onChange }), React.createElement('br', null), React.createElement('br', null), 'Password:', React.createElement('input', { type: 'password', id: 'password', name: 'password', placeholder: 'enter your password', onChange: props.onChange }), React.createElement('br', null), React.createElement('br', null), React.createElement('input', { type: 'submit', value: 'Next', onClick: props.onClick })));

const FormTwo = props => React.createElement('div', { id: 'formTwo', 'class': 'form-style-8' }, React.createElement('h4', null, 'Shipping Information'), React.createElement('form', null, 'Address:', React.createElement('input', { type: 'text', name: 'firstLine', id: 'firstLine', onChange: props.onChange }), React.createElement('br', null), React.createElement('br', null), 'Apt:', React.createElement('input', { type: 'text', name: 'secondLine', id: 'secondLine', onChange: props.onChange }), React.createElement('br', null), React.createElement('br', null), 'City:', React.createElement('input', { type: 'text', name: 'city', id: 'city', placeholder: 'enter your city', onChange: props.onChange }), React.createElement('br', null), React.createElement('br', null), 'State:', React.createElement('input', { type: 'text', name: 'state', id: 'state', placeholder: 'enter your state', onChange: props.onChange }), React.createElement('br', null), React.createElement('br', null), 'Zipcode:', React.createElement('input', { type: 'number', name: 'zipcode', id: 'zipcode', placeholder: 'enter your zipcode', onChange: props.onChange }), React.createElement('br', null), ' ', React.createElement('br', null), React.createElement('input', { type: 'submit', value: 'Next', onClick: props.onClick })));

const FormThree = props => React.createElement('div', { id: 'formThree', 'class': 'form-style-8' }, React.createElement('h4', null, 'Credit Card Information'), React.createElement('form', null, 'Credit Card #:', React.createElement('input', { type: 'number', name: 'creditCard', id: 'creditCard', placeholder: 'enter your credit card information', onChange: props.onChange }), React.createElement('br', null), React.createElement('br', null), 'Expirate Date:', React.createElement('input', { type: 'date', name: 'expiration', id: 'expiration', onChange: props.onChange }), React.createElement('br', null), React.createElement('br', null), 'CVV:', React.createElement('input', { type: 'number', name: 'cvv', placeholder: 'cvv', onChange: props.onChange }), React.createElement('br', null), React.createElement('br', null), 'Billing Zipcode:', React.createElement('input', { type: 'number', name: 'billingZip', id: 'billingZip', placeholder: 'enter billing zipcode', onChange: props.onChange }), React.createElement('br', null), React.createElement('br', null), React.createElement('input', { type: 'submit', value: 'Next', onClick: props.onClick, onChange: props.onChange })));

const Purchase = props => React.createElement('div', { id: 'purchase' }, React.createElement('h4', null, 'Confirmation'), React.createElement('button', { id: 'confirm-button', onClick: props.onclick }, 'Confirm Purchase'));

ReactDOM.render(React.createElement(App, null), document.getElementById('app'));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2NsaWVudC9hcHAuanN4Il0sIm5hbWVzIjpbIlJlYWN0IiwiY29uc3RydWN0b3IiLCJzdGVwcyIsImN1cnJlbnRWaWV3IiwiY3VycmVudEZvcm0iLCJoYW5kbGVOZXh0IiwiZSIsImZldGNoIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJoZWFkZXJzIiwicmVzIiwicmVzcG9uc2UiLCJjb25zb2xlIiwiZXJyb3IiLCJoYW5kbGVTdWJtaXQiLCJoYW5kbGVGb3JtQ2hhbmdlIiwidmFsdWUiLCJuZXdGb3JtIiwicmVuZGVyIiwiQ2hlY2tvdXQiLCJwcm9wcyIsIkZvcm1PbmUiLCJGb3JtVHdvIiwiRm9ybVRocmVlIiwiUHVyY2hhc2UiLCJSZWFjdERPTSIsImRvY3VtZW50Il0sIm1hcHBpbmdzIjoiQUFBQSxNQUFBLEdBQUEsU0FBa0JBLE1BQWxCLFNBQUEsQ0FBa0M7QUFDaENDLGNBQUFBLEtBQUFBLEVBQW1CO0FBQ2pCLFVBQUEsS0FBQTs7QUFFQSxTQUFBLEtBQUEsR0FBYTtBQUNYQyxhQUFPLENBQUEsUUFBQSxFQUFBLE9BQUEsRUFBQSxPQUFBLEVBQUEsU0FBQSxFQURJLFFBQ0osQ0FESTtBQUVYQyxtQkFGVyxRQUFBO0FBR1hDLG1CQUFhO0FBSEYsS0FBYjtBQUtBLFNBQUEsWUFBQSxHQUFvQixLQUFBLFlBQUEsQ0FBQSxJQUFBLENBQXBCLElBQW9CLENBQXBCO0FBQ0Q7O0FBRURDLGFBQUFBLENBQUFBLEVBQWM7QUFDWixTQUFBLFFBQUEsQ0FBYztBQUNaRixtQkFBYSxLQUFBLEtBQUEsQ0FBQSxLQUFBLENBQWlCLEtBQUEsS0FBQSxDQUFBLEtBQUEsQ0FBQSxPQUFBLENBQXlCLEtBQUEsS0FBQSxDQUF6QixXQUFBLElBQUEsQ0FBQSxJQUFqQixDQUFBO0FBREQsS0FBZDtBQUdBRyxNQUFBQSxjQUFBQTtBQUNBQyxVQUFBQSxHQUFBQSxFQUFXO0FBQ1RDLGNBRFMsTUFBQTtBQUVUQyxZQUFNQyxLQUFBQSxTQUFBQSxDQUFlLEtBQUEsS0FB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UnZHLFFBUUUsRUFBQSxDQVJGLEVBU0UsTUFBQSxhQUFBLENBQUEsSUFBQSxFQVRGLElBU0UsQ0FURixFQVNRLE1BQUEsYUFBQSxDQUFBLElBQUEsRUFUUixJQVNRLENBVFIsRUFVRSxNQUFBLGFBQUEsQ0FBQSxPQUFBLEVBQUEsRUFBTyxNQUFQLFFBQUEsRUFBcUIsT0FBckIsTUFBQSxFQUFrQyxTQUFTQSxNQUEzQyxPQUFBLEVBQTBELFVBQVVBLE1BQXBFLFFBQUEsRUFBQSxDQVZGLENBRkYsQ0FERjs7QUFrQkEsTUFBTUksV0FBV0osU0FDZixNQUFBLGFBQUEsQ0FBQSxLQUFBLEVBQUEsRUFBSyxJQUFMLFVBQUEsRUFBQSxFQUNBLE1BQUEsYUFBQSxDQUFBLElBQUEsRUFBQSxJQUFBLEVBQUEsY0FBQSxDQURBLEVBRUEsTUFBQSxhQUFBLENBQUEsUUFBQSxFQUFBLEVBQVEsSUFBUixnQkFBQSxFQUE0QixTQUFTQSxNQUFyQyxPQUFBLEVBQUEsRUFBQSxrQkFBQSxDQUZBLENBREY7O0FBT0FLLFNBQUFBLE1BQUFBLENBQWdCLE1BQUEsYUFBQSxDQUFBLEdBQUEsRUFBaEJBLElBQWdCLENBQWhCQSxFQUF5QkMsU0FBQUEsY0FBQUEsQ0FBekJELEtBQXlCQyxDQUF6QkQiLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBBcHAgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBzdGVwczogW0NoZWNrb3V0LCBGb3JtT25lLCBGb3JtVHdvLCBGb3JtVGhyZWUsIFB1cmNoYXNlXSxcbiAgICAgIGN1cnJlbnRWaWV3OiBDaGVja291dCxcbiAgICAgIGN1cnJlbnRGb3JtOiB7fSxcbiAgICB9XG4gICAgdGhpcy5oYW5kbGVTdWJtaXQgPSB0aGlzLmhhbmRsZVN1Ym1pdC5iaW5kKHRoaXMpXG4gIH1cblxuICBoYW5kbGVOZXh0KGUpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGN1cnJlbnRWaWV3OiB0aGlzLnN0YXRlLnN0ZXBzW3RoaXMuc3RhdGUuc3RlcHMuaW5kZXhPZih0aGlzLnN0YXRlLmN1cnJlbnRWaWV3KSArIDEgfHwgMF1cbiAgICB9KTtcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBmZXRjaCgnLycsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodGhpcy5zdGF0ZS5jdXJyZW50Rm9ybSksXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiQ29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICB9XG4gICAgfSkudGhlbihyZXMgPT4gcmVzLmpzb24oKSlcbiAgICAudGhlbihyZXNwb25zZSA9PiBjb25zb2xlLmxvZygnU3VjY2VzczonLCBKU09OLnN0cmluZ2lmeShyZXNwb25zZSkpKVxuICAgIC5jYXRjaChlcnJvciA9PiBjb25zb2xlLmVycm9yKCdFcnJvcjonLCBlcnJvcikpO1xuICB9XG5cbiAgaGFuZGxlU3VibWl0IChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgZmV0Y2goJy8nLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHRoaXMuc3RhdGUuY3VycmVudEZvcm0pLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBcIkNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgfVxuICAgIH0pLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXG4gICAgLnRoZW4ocmVzcG9uc2UgPT4gY29uc29sZS5sb2coJ1N1Y2Nlc3M6JywgSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UpKSlcbiAgICAuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5lcnJvcignRXJyb3I6JywgZXJyb3IpKTtcbiAgfVxuXG4gIGhhbmRsZUZvcm1DaGFuZ2UoZSkge1xuICAgIGxldCB2YWx1ZSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgIGxldCBuZXdGb3JtID0gdGhpcy5zdGF0ZS5jdXJyZW50Rm9ybTtcbiAgICBuZXdGb3JtW2UudGFyZ2V0Lm5hbWVdID0gdmFsdWU7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjdXJyZW50Rm9ybTogbmV3Rm9ybVxuICAgIH0pXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgaWQ9XCJjb250YWluZXJcIj5cbiAgICAgIDx0aGlzLnN0YXRlLmN1cnJlbnRWaWV3IG9uQ2hhbmdlPXtlID0+IHRoaXMuaGFuZGxlRm9ybUNoYW5nZShlKX0gb25DbGljaz17ZSA9PiB0aGlzLmhhbmRsZU5leHQoZSl9IG9uY2xpY2s9e2UgPT4gdGhpcy5oYW5kbGVTdWJtaXQoZSl9Lz5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5jb25zdCBDaGVja291dCA9IHByb3BzID0+IChcbiAgICA8YnV0dG9uIG9uQ2xpY2s9e3Byb3BzLm9uQ2xpY2t9PkNoZWNrb3V0PC9idXR0b24+XG4pXG5cbmNvbnN0IEZvcm1PbmUgPSBwcm9wcyA9PiAoXG4gICAgPGRpdiBpZD1cImZvcm1PbmVcIiBjbGFzcz1cImZvcm0tc3R5bGUtOFwiPlxuICAgICAgPGg0PkFjY291bnQgSW5mb3JtYXRpb248L2g0PlxuICAgICAgPGZvcm0+ICBcbiAgICAgICAgTmFtZTogXG4gICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJuYW1lXCIgaWQ9XCJuYW1lXCIgcGxhY2Vob2xkZXI9XCJlbnRlciB5b3VyIG5hbWVcIiBvbkNoYW5nZT17cHJvcHMub25DaGFuZ2V9IC8+PGJyIC8+PGJyIC8+IFxuICAgICAgICBFbWFpbDogXG4gICAgICAgIDxpbnB1dCB0eXBlPVwiZW1haWxcIiBuYW1lPVwiZW1haWxcIiBpZD1cImVtYWlsXCIgcGxhY2Vob2xkZXI9XCJlbnRlciB5b3VyIGVtYWlsXCIgb25DaGFuZ2U9e3Byb3BzLm9uQ2hhbmdlfSAvPjxiciAvPjxiciAvPiBcbiAgICAgICAgUGFzc3dvcmQ6IFxuICAgICAgICA8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgaWQ9XCJwYXNzd29yZFwiIG5hbWU9XCJwYXNzd29yZFwiIHBsYWNlaG9sZGVyPVwiZW50ZXIgeW91ciBwYXNzd29yZFwiIG9uQ2hhbmdlPXtwcm9wcy5vbkNoYW5nZX0gLz4gXG4gICAgICAgIDxiciAvPjxiciAvPiBcbiAgICAgICAgPGlucHV0IHR5cGU9XCJzdWJtaXRcIiB2YWx1ZT1cIk5leHRcIiBvbkNsaWNrPXtwcm9wcy5vbkNsaWNrfSAvPlxuICAgICAgPC9mb3JtPlxuICAgIDwvZGl2PlxuKVxuXG5jb25zdCBGb3JtVHdvID0gcHJvcHMgPT4gKFxuICAgIDxkaXYgaWQ9XCJmb3JtVHdvXCIgY2xhc3M9XCJmb3JtLXN0eWxlLThcIj5cbiAgICAgIDxoND5TaGlwcGluZyBJbmZvcm1hdGlvbjwvaDQ+XG4gICAgICA8Zm9ybT4gXG4gICAgICAgIEFkZHJlc3M6IFxuICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwiZmlyc3RMaW5lXCIgaWQ9XCJmaXJzdExpbmVcIiBvbkNoYW5nZT17cHJvcHMub25DaGFuZ2V9IC8+PGJyIC8+PGJyIC8+IFxuICAgICAgICBBcHQ6IFxuICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwic2Vjb25kTGluZVwiIGlkPVwic2Vjb25kTGluZVwiIG9uQ2hhbmdlPXtwcm9wcy5vbkNoYW5nZX0gLz48YnIgLz48YnIgLz4gXG4gICAgICAgIENpdHk6IFxuICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwiY2l0eVwiIGlkPVwiY2l0eVwiIHBsYWNlaG9sZGVyPVwiZW50ZXIgeW91ciBjaXR5XCIgb25DaGFuZ2U9e3Byb3BzLm9uQ2hhbmdlfSAvPjxiciAvPjxiciAvPiBcbiAgICAgICAgU3RhdGU6IFxuICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwic3RhdGVcIiBpZD1cInN0YXRlXCIgcGxhY2Vob2xkZXI9XCJlbnRlciB5b3VyIHN0YXRlXCIgb25DaGFuZ2U9e3Byb3BzLm9uQ2hhbmdlfSAvPjxiciAvPjxiciAvPiBcbiAgICAgICAgWmlwY29kZTogXG4gICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbmFtZT1cInppcGNvZGVcIiBpZD1cInppcGNvZGVcIiBwbGFjZWhvbGRlcj1cImVudGVyIHlvdXIgemlwY29kZVwiIG9uQ2hhbmdlPXtwcm9wcy5vbkNoYW5nZX0gLz5cbiAgICAgICAgPGJyIC8+IDxiciAvPiBcbiAgICAgICAgPGlucHV0IHR5cGU9XCJzdWJtaXRcIiB2YWx1ZT1cIk5leHRcIiBvbkNsaWNrPXtwcm9wcy5vbkNsaWNrfSAvPlxuICAgICAgPC9mb3JtPlxuICAgIDwvZGl2PlxuKVxuXG5jb25zdCBGb3JtVGhyZWUgPSBwcm9wcyA9PiAoXG4gIDxkaXYgaWQ9XCJmb3JtVGhyZWVcIiBjbGFzcz1cImZvcm0tc3R5bGUtOFwiPlxuICAgIDxoND5DcmVkaXQgQ2FyZCBJbmZvcm1hdGlvbjwvaDQ+IFxuICAgIDxmb3JtPlxuICAgICAgQ3JlZGl0IENhcmQgIzogXG4gICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG5hbWU9XCJjcmVkaXRDYXJkXCIgaWQ9XCJjcmVkaXRDYXJkXCIgcGxhY2Vob2xkZXI9XCJlbnRlciB5b3VyIGNyZWRpdCBjYXJkIGluZm9ybWF0aW9uXCIgb25DaGFuZ2U9e3Byb3BzLm9uQ2hhbmdlfSAvPjxiciAvPjxiciAvPiBcbiAgICAgIEV4cGlyYXRlIERhdGU6IFxuICAgICAgPGlucHV0IHR5cGU9XCJkYXRlXCIgbmFtZT1cImV4cGlyYXRpb25cIiBpZD1cImV4cGlyYXRpb25cIiAgb25DaGFuZ2U9e3Byb3BzLm9uQ2hhbmdlfSAvPjxiciAvPjxiciAvPiBcbiAgICAgIENWVjogXG4gICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG5hbWU9XCJjdnZcIiBwbGFjZWhvbGRlcj1cImN2dlwiIG9uQ2hhbmdlPXtwcm9wcy5vbkNoYW5nZX0gLz48YnIgLz48YnIgLz4gXG4gICAgICBCaWxsaW5nIFppcGNvZGU6IFxuICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuYW1lPVwiYmlsbGluZ1ppcFwiIGlkPVwiYmlsbGluZ1ppcFwiIHBsYWNlaG9sZGVyPVwiZW50ZXIgYmlsbGluZyB6aXBjb2RlXCIgb25DaGFuZ2U9e3Byb3BzLm9uQ2hhbmdlfSAvPlxuICAgICAgPGJyIC8+PGJyIC8+IFxuICAgICAgPGlucHV0IHR5cGU9XCJzdWJtaXRcIiB2YWx1ZT1cIk5leHRcIiBvbkNsaWNrPXtwcm9wcy5vbkNsaWNrfSBvbkNoYW5nZT17cHJvcHMub25DaGFuZ2V9IC8+XG4gICAgPC9mb3JtPlxuICA8L2Rpdj5cbilcblxuY29uc3QgUHVyY2hhc2UgPSBwcm9wcyA9PiAoXG4gIDxkaXYgaWQ9XCJwdXJjaGFzZVwiPlxuICA8aDQ+Q29uZmlybWF0aW9uPC9oND5cbiAgPGJ1dHRvbiBpZD0nY29uZmlybS1idXR0b24nIG9uQ2xpY2s9e3Byb3BzLm9uY2xpY2t9PkNvbmZpcm0gUHVyY2hhc2U8L2J1dHRvbj5cbiAgPC9kaXY+XG4pXG5cblJlYWN0RE9NLnJlbmRlcig8QXBwIC8+LCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBwJykpOyJdfQ==